# Сабскрипты

Классы, структуры и перечисления могут определять сабскрипты, которые являются сокращенным вариантом доступа к члену коллекции, списка или последовательности. Сабскрипты нужны для того, чтобы наш код смотрелся лучше. Сабскрипты - это индексы, они могут как получать так и возвращать значение.

## Синтаксис сабскрипта

Синтаксис сабскрипта аналогичный синтаксису метода экземпляра и вычисляемому свойству. Мы пишем определения сабскрипта с помощью ключевого слова subscript и указываем один или более входных параметров и возвращаемый тип, точно так же как и в методах экземпляра. В отличии от методов экземпляра, сабскрипты могут быть read-write или read-only. Такое поведение сообщается геттером и сеттером в точности так же как и в вычисляемых свойствах:

```
subscript(index: Int) -> Int {
    get {
        //возвращает надлежащее значение скрипта
    }
    set(newValue) {
        //проводит надлежащие установки 
    }
}
```

Рассмотрим пример со структурой:

```
struct Numbers {
    var arrayOfNumbers: [Int] = []
    
    subscript(index: Int) -> Int {
        get {
            return arrayOfNumbers[index]
        }
        set (new) {
            arrayOfNumbers[index] = new
        }
    }
}

var elements = Numbers(arrayOfNumbers: [0,1,2,3,4,5]) //создали экземпляр
elements.arrayOfNumbers[1] //простое обращение к массиву по индексу к получению элемента из массива
elements[0] //получение элемента из массива путем обращения по сабскрипту
elements[0] = 20 //выведет 20
```

Если мы хотим сделать сабскрипт только для чтения, то тогда не пишем set в теле сабскрипта.
Рассмотрим еще один пример сабскрипта без возможности редактирования:

```
struct TimesTable {
    let multiplier: Int
    subscript(index: Int) -> Int {
        return multiplier * index
    }
}
 
let threeTimesTable = TimesTable(multiplier: 3)
print("шесть умножить на три будет \(threeTimesTable[6])")
// Выведет "шесть умножить на три будет 18"
```

## Сабскрипты типа

Сабскрипты сущностей, как было сказано выше, являются сабскриптами экземпляров конкретного типа. Мы также можем определить сабскрипты, которые вызываются у самого типа. Сабскриты такого типа называются сабскриптом типа. Мы указываем сабскрипт типа при помощи ключевого слова static перед ключевым словом subscript. Классы могут использовать ключевое слово class вместо static, чтобы позволить подклассам переопределять реализацию родительского класса этого сабскрипта. Пример ниже показывает, как мы можем определить и вызывать сабскрипт типа:

```
enum Planet: Int {
    case mercury = 1, venus, earth, mars, jupiter, saturn, uranus, neptune
    static subscript(n: Int) -> Planet {
        return Planet(rawValue: n)!
    }
}
let mars = Planet[4]
print(mars)
```
